{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport PastryDataService from '@/services/PastryDataService';\nexport default {\n  props: ['inventory', 'addToCart'],\n  methods: {\n    // delete\n    deletePastry() {\n      PastryDataService.delete(this.id).then(res => {\n        // remove from cart\n        this.removeItem(this.pastry.name);\n        // delete from dom\n        this.removeInv(this.pastryIndex);\n        // redirect\n        this.$router.push({\n          name: 'home'\n        });\n      });\n    }\n  },\n  computed: {\n    // get data by id\n    pastry() {\n      const pastry = this.inventory.find(p => {\n        return p.name === this.$route.params.id;\n      });\n      return pastry;\n    },\n    // find pastry index\n    pastryIndex() {\n      const index = this.inventory.findIndex(p => {\n        return p.name === this.$route.params.id;\n      });\n      return index;\n    }\n  }\n};","map":{"version":3,"names":["PastryDataService","props","methods","deletePastry","delete","id","then","res","removeItem","pastry","name","removeInv","pastryIndex","$router","push","computed","inventory","find","p","$route","params","index","findIndex"],"sources":["/Users/elisabeththeoret/Desktop/_PROG_WEB/_ALL_SESSION/582-41F_tech_avancees_prog/all_evalue/TP03/ms-fabulous_vuejs/frontend/src/views/ShowPastryView.vue"],"sourcesContent":["<template>\n  <!-- Header Page -->\n  <header class=\"flex col\">\n    <h1>{{ pastry.name }}</h1>\n  </header>\n  <!-- Section -->\n  <section class=\"flex row gap-normal pastry-view\">\n    <img :src=\"require(`@/assets/img/${pastry.photo}`)\" :alt=\"pastry.name\">\n    <div class=\"flex col gap-moyen pastry-content\">\n      <div class=\"flex col\">\n        <h3>{{ pastry.category }}</h3>\n        <p>{{ pastry.description }}</p>\n      </div>\n      <div class=\"flex col gap-petit\">\n        <div class=\"flex row gap-trespetit align-baseline\">\n          <small>Quantité</small>\n          <input type=\"number\" min=\"1\" class=\"text-center\" style=\"max-width:80px;\" v-model=\"pastry.quantity\">\n        </div>\n        <button class=\"btn\" @click=\"addToCart(pastry.name, i)\">Ajouter au panier</button>\n      </div>\n    </div>\n  </section>\n  <!-- Administrateur -->\n  <section class=\"flex row gap-large justify-center bg-light_vert\">\n    <router-link :to=\"{ name: 'edit-pastry', params: { id: pastry.id } }\" class=\"btn border-marron\">Mettre à jour</router-link>\n    <button class=\"btn border-marron\" type=\"button\" @click=\"deletePastry\">Supprimer</button>\n  </section>\n</template>\n\n<script>\nimport PastryDataService from '@/services/PastryDataService'\n\nexport default {\n\n  props: ['inventory', 'addToCart'],\n\n  methods: {\n    // delete\n    deletePastry () {\n      PastryDataService.delete(this.id).then(res => {\n        // remove from cart\n        this.removeItem(this.pastry.name)\n        // delete from dom\n        this.removeInv(this.pastryIndex)\n        // redirect\n        this.$router.push({ name: 'home' })\n      })\n    }\n  },\n\n  computed: {\n    // get data by id\n    pastry () {\n      const pastry = this.inventory.find((p) => {\n        return p.name === this.$route.params.id\n      })\n      return pastry\n    },\n\n    // find pastry index\n    pastryIndex () {\n      const index = this.inventory.findIndex((p) => {\n        return p.name === this.$route.params.id\n      })\n      return index\n    }\n  }\n\n}\n</script>\n"],"mappings":";AA8BA,OAAOA,iBAAgB,MAAO,8BAA6B;AAE3D,eAAe;EAEbC,KAAK,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC;EAEjCC,OAAO,EAAE;IACP;IACAC,YAAWA,CAAA,EAAK;MACdH,iBAAiB,CAACI,MAAM,CAAC,IAAI,CAACC,EAAE,CAAC,CAACC,IAAI,CAACC,GAAE,IAAK;QAC5C;QACA,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,MAAM,CAACC,IAAI;QAChC;QACA,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,WAAW;QAC/B;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAEJ,IAAI,EAAE;QAAO,CAAC;MACpC,CAAC;IACH;EACF,CAAC;EAEDK,QAAQ,EAAE;IACR;IACAN,MAAKA,CAAA,EAAK;MACR,MAAMA,MAAK,GAAI,IAAI,CAACO,SAAS,CAACC,IAAI,CAAEC,CAAC,IAAK;QACxC,OAAOA,CAAC,CAACR,IAAG,KAAM,IAAI,CAACS,MAAM,CAACC,MAAM,CAACf,EAAC;MACxC,CAAC;MACD,OAAOI,MAAK;IACd,CAAC;IAED;IACAG,WAAUA,CAAA,EAAK;MACb,MAAMS,KAAI,GAAI,IAAI,CAACL,SAAS,CAACM,SAAS,CAAEJ,CAAC,IAAK;QAC5C,OAAOA,CAAC,CAACR,IAAG,KAAM,IAAI,CAACS,MAAM,CAACC,MAAM,CAACf,EAAC;MACxC,CAAC;MACD,OAAOgB,KAAI;IACb;EACF;AAEF"},"metadata":{},"sourceType":"module","externalDependencies":[]}