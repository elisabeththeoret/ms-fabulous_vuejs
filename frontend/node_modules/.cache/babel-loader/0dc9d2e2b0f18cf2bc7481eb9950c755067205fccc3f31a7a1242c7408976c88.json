{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from '@/components/SideBar.vue';\nimport ProductDataService from '@/services/ProductDataService';\nexport default {\n  components: {\n    Sidebar\n  },\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    };\n  },\n  methods: {\n    toggleSideBar() {\n      this.showSideBar = !this.showSideBar;\n    },\n    addToCart(product, index) {\n      if (!this.cart[product]) this.cart[product] = 0;\n      this.cart[product] += this.inventory[index].quantity;\n      this.inventory[index].quantity = 0;\n    },\n    removeItem(name) {\n      delete this.cart[name];\n    },\n    addInventory(product) {\n      this.inventory.push(product);\n    }\n  },\n  computed: {\n    totalQuantity() {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr;\n      }, 0);\n    }\n  },\n  mounted() {\n    ProductDataService.getAll().then(response => {\n      this.inventory = response.data;\n    });\n  }\n};","map":{"version":3,"names":["Sidebar","ProductDataService","components","data","showSideBar","inventory","cart","methods","toggleSideBar","addToCart","product","index","quantity","removeItem","name","addInventory","push","computed","totalQuantity","Object","values","reduce","acc","curr","mounted","getAll","then","response"],"sources":["/Users/e2196008/Documents/582-41F_techniques_avancees_prog_web/cours/node/vue-server-client/project-vue/src/App.vue"],"sourcesContent":["<template>\n  <!-- Navigation-->\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container px-4 px-lg-5\">\n      <a class=\"navbar-brand\" href=\"#\">My Store</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span class=\"navbar-toggler-icon\"></span></button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link active\" aria-current=\"page\" to=\"/\">Home</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" :to=\"{name: 'about'}\">About</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/new-product\">New Product</router-link>\n          </li>\n        </ul>\n        <form class=\"d-flex\">\n          <button class=\"btn btn-outline-dark\" type=\"button\" @click=\"toggleSideBar\">\n            <i class=\"bi-cart-fill me-1\"></i>\n            Cart\n            <span class=\"badge bg-dark text-white ms-1 rounded-pill\">{{ totalQuantity }}</span>\n          </button>\n        </form>\n      </div>\n    </div>\n  </nav>\n  <!-- Header-->\n  <header class=\"bg-dark py-5\">\n    <div class=\"container px-4 px-lg-5 my-5\">\n      <div class=\"text-center text-white\">\n        <h1 class=\"display-4 fw-bolder\">Shop in style</h1>\n        <p class=\"lead fw-normal text-white-50 mb-0\">With this shop hompeage template</p>\n      </div>\n    </div>\n  </header>\n  <Router-view\n    :inventory = \"inventory\"\n    :addTo = \"addToCart\"\n    :addInv = \"addInventory\"\n  />\n  <Sidebar\n    v-if=\"showSideBar\"\n    :toggle = \"toggleSideBar\"\n    :cart = \"cart\"\n    :inventory = \"inventory\"\n    :remove = \"removeItem\"\n  />\n</template>\n\n<script>\nimport Sidebar from '@/components/SideBar.vue'\nimport ProductDataService from '@/services/ProductDataService'\n\nexport default {\n  components: {\n    Sidebar\n  },\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    }\n  },\n  methods: {\n    toggleSideBar () {\n      this.showSideBar = !this.showSideBar\n    },\n    addToCart (product, index) {\n      if (!this.cart[product]) this.cart[product] = 0\n      this.cart[product] += this.inventory[index].quantity\n      this.inventory[index].quantity = 0\n    },\n    removeItem (name) {\n      delete this.cart[name]\n    },\n    addInventory (product) {\n      this.inventory.push(product)\n    }\n  },\n  computed: {\n    totalQuantity () {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr\n      }, 0)\n    }\n  },\n  mounted () {\n    ProductDataService.getAll()\n      .then(response => {\n        this.inventory = response.data\n      })\n  }\n}\n</script>\n"],"mappings":";AAoDA,OAAOA,OAAM,MAAO,0BAAyB;AAC7C,OAAOC,kBAAiB,MAAO,+BAA8B;AAE7D,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAI,EAAEA,CAAA,KAAM;IACV,OAAO;MACLC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,CAAC;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,aAAYA,CAAA,EAAK;MACf,IAAI,CAACJ,WAAU,GAAI,CAAC,IAAI,CAACA,WAAU;IACrC,CAAC;IACDK,SAAQA,CAAGC,OAAO,EAAEC,KAAK,EAAE;MACzB,IAAI,CAAC,IAAI,CAACL,IAAI,CAACI,OAAO,CAAC,EAAE,IAAI,CAACJ,IAAI,CAACI,OAAO,IAAI;MAC9C,IAAI,CAACJ,IAAI,CAACI,OAAO,KAAK,IAAI,CAACL,SAAS,CAACM,KAAK,CAAC,CAACC,QAAO;MACnD,IAAI,CAACP,SAAS,CAACM,KAAK,CAAC,CAACC,QAAO,GAAI;IACnC,CAAC;IACDC,UAASA,CAAGC,IAAI,EAAE;MAChB,OAAO,IAAI,CAACR,IAAI,CAACQ,IAAI;IACvB,CAAC;IACDC,YAAWA,CAAGL,OAAO,EAAE;MACrB,IAAI,CAACL,SAAS,CAACW,IAAI,CAACN,OAAO;IAC7B;EACF,CAAC;EACDO,QAAQ,EAAE;IACRC,aAAYA,CAAA,EAAK;MACf,OAAOC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACd,IAAI,CAAC,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;QACpD,OAAOD,GAAE,GAAIC,IAAG;MAClB,CAAC,EAAE,CAAC;IACN;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACTvB,kBAAkB,CAACwB,MAAM,EAAC,CACvBC,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAACtB,SAAQ,GAAIsB,QAAQ,CAACxB,IAAG;IAC/B,CAAC;EACL;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}