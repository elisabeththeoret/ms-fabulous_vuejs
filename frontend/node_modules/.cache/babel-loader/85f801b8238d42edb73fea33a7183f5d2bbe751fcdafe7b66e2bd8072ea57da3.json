{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from '@/components/SideBar.vue';\nimport PastryDataService from '@/services/PastryDataService';\nexport default {\n  components: {\n    Sidebar\n  },\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    };\n  },\n  methods: {\n    // toggle sidebar\n    toggleSideBar() {\n      this.showSideBar = !this.showSideBar;\n    },\n    // add pastry in inventory (dom)\n    addInventory(pastry) {\n      this.inventory.push(pastry);\n    },\n    // update pastry in inventory (dom)\n    updateInventory(index, pastry) {\n      this.inventory[index].name = pastry.name;\n      this.inventory[index].category = pastry.category;\n      this.inventory[index].description = pastry.description;\n      this.inventory[index].price = pastry.price;\n      this.inventory[index].photo = pastry.photo;\n    },\n    // remove pastry from inventory (dom)\n    removeInventory(index) {\n      this.inventory.splice(index, 1);\n    },\n    // add item to cart\n    addToCart(pastry, index) {\n      if (!this.cart[pastry]) this.cart[pastry] = 0;\n      this.cart[pastry] += this.inventory[index].quantity;\n      this.inventory[index].quantity = 0;\n    },\n    // remove item from cart\n    removeItem(name) {\n      delete this.cart[name];\n      console.log(this.cart);\n    }\n  },\n  computed: {\n    // cart total quantity\n    totalQuantity() {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr;\n      }, 0);\n    }\n  },\n  // getAll data\n  mounted() {\n    PastryDataService.getAll().then(response => {\n      this.inventory = response.data;\n      console.log(response);\n    });\n  }\n};","map":{"version":3,"names":["Sidebar","PastryDataService","components","data","showSideBar","inventory","cart","methods","toggleSideBar","addInventory","pastry","push","updateInventory","index","name","category","description","price","photo","removeInventory","splice","addToCart","quantity","removeItem","console","log","computed","totalQuantity","Object","values","reduce","acc","curr","mounted","getAll","then","response"],"sources":["/Users/elisabeththeoret/Desktop/_PROG_WEB/_ALL_SESSION/582-41F_tech_avancees_prog/all_evalue/TP03/ms-fabulous_vuejs/frontend/src/App.vue"],"sourcesContent":["<template>\n  <!-- Navigation -->\n  <header class=\"flex row header bg-light_rosemauve texte-marron\">\n    <nav class=\"flex row nav-principale\">\n      <div class=\"flex row\">\n        <router-link :to=\"{ name: 'home' }\" class=\"logo btn\">Ms. Fabulous</router-link>\n        <router-link :to=\"{ name: 'pastry' }\" class=\"btn\">Pâtisseries</router-link>\n        <router-link :to=\"{ name: 'contact' }\" class=\"btn\">Contact</router-link>\n      </div>\n      <button class=\"flex row gap-mini btn btn-cart\" type=\"button\" @click=\"toggleSideBar\">\n        <span class=\"icon\"><i class=\"bi bi-basket2-fill me-1\"></i></span>\n        <span class=\"\">{{ totalQuantity }}</span>\n      </button>\n    </nav>\n  </header>\n  <!-- Content -->\n  <div class=\"app\">\n    <Router-view\n      :inventory = \"inventory\"\n      :addInv = \"addInventory\"\n      :updateInv = \"updateInventory\"\n      :removeInv = \"removeInventory\"\n      :addToCart = \"addToCart\"\n      :removeItem = \"removeItem\"\n    />\n  </div>\n  <!-- Sidebar -->\n  <Sidebar\n    v-if=\"showSideBar\"\n    :showSideBar\n    :toggle = \"toggleSideBar\"\n    :inventory = \"inventory\"\n    :cart = \"cart\"\n    :removeItem = \"removeItem\"\n  />\n  <!-- Footer -->\n  <footer class=\"flex col footer\">\n    <small class=\"texte-dark_marron\">&copy; 2023 Elisabeth Theoret - Tous droits réservés</small>\n  </footer>\n</template>\n\n<script>\nimport Sidebar from '@/components/SideBar.vue'\nimport PastryDataService from '@/services/PastryDataService'\n\nexport default {\n\n  components: {\n    Sidebar\n  },\n\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    }\n  },\n\n  methods: {\n    // toggle sidebar\n    toggleSideBar () {\n      this.showSideBar = !this.showSideBar\n    },\n\n    // add pastry in inventory (dom)\n    addInventory (pastry) {\n      this.inventory.push(pastry)\n    },\n\n    // update pastry in inventory (dom)\n    updateInventory (index, pastry) {\n      this.inventory[index].name = pastry.name\n      this.inventory[index].category = pastry.category\n      this.inventory[index].description = pastry.description\n      this.inventory[index].price = pastry.price\n      this.inventory[index].photo = pastry.photo\n    },\n\n    // remove pastry from inventory (dom)\n    removeInventory (index) {\n      this.inventory.splice(index, 1)\n    },\n\n    // add item to cart\n    addToCart (pastry, index) {\n      if (!this.cart[pastry]) this.cart[pastry] = 0\n      this.cart[pastry] += this.inventory[index].quantity\n      this.inventory[index].quantity = 0\n    },\n\n    // remove item from cart\n    removeItem (name) {\n      delete this.cart[name]\n      console.log(this.cart)\n    }\n  },\n\n  computed: {\n    // cart total quantity\n    totalQuantity () {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr\n      }, 0)\n    }\n  },\n\n  // getAll data\n  mounted () {\n    PastryDataService.getAll()\n      .then(response => {\n        this.inventory = response.data\n        console.log(response)\n      })\n  }\n\n}\n</script>\n"],"mappings":";AA0CA,OAAOA,OAAM,MAAO,0BAAyB;AAC7C,OAAOC,iBAAgB,MAAO,8BAA6B;AAE3D,eAAe;EAEbC,UAAU,EAAE;IACVF;EACF,CAAC;EAEDG,IAAI,EAAEA,CAAA,KAAM;IACV,OAAO;MACLC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,CAAC;IACT;EACF,CAAC;EAEDC,OAAO,EAAE;IACP;IACAC,aAAYA,CAAA,EAAK;MACf,IAAI,CAACJ,WAAU,GAAI,CAAC,IAAI,CAACA,WAAU;IACrC,CAAC;IAED;IACAK,YAAWA,CAAGC,MAAM,EAAE;MACpB,IAAI,CAACL,SAAS,CAACM,IAAI,CAACD,MAAM;IAC5B,CAAC;IAED;IACAE,eAAcA,CAAGC,KAAK,EAAEH,MAAM,EAAE;MAC9B,IAAI,CAACL,SAAS,CAACQ,KAAK,CAAC,CAACC,IAAG,GAAIJ,MAAM,CAACI,IAAG;MACvC,IAAI,CAACT,SAAS,CAACQ,KAAK,CAAC,CAACE,QAAO,GAAIL,MAAM,CAACK,QAAO;MAC/C,IAAI,CAACV,SAAS,CAACQ,KAAK,CAAC,CAACG,WAAU,GAAIN,MAAM,CAACM,WAAU;MACrD,IAAI,CAACX,SAAS,CAACQ,KAAK,CAAC,CAACI,KAAI,GAAIP,MAAM,CAACO,KAAI;MACzC,IAAI,CAACZ,SAAS,CAACQ,KAAK,CAAC,CAACK,KAAI,GAAIR,MAAM,CAACQ,KAAI;IAC3C,CAAC;IAED;IACAC,eAAcA,CAAGN,KAAK,EAAE;MACtB,IAAI,CAACR,SAAS,CAACe,MAAM,CAACP,KAAK,EAAE,CAAC;IAChC,CAAC;IAED;IACAQ,SAAQA,CAAGX,MAAM,EAAEG,KAAK,EAAE;MACxB,IAAI,CAAC,IAAI,CAACP,IAAI,CAACI,MAAM,CAAC,EAAE,IAAI,CAACJ,IAAI,CAACI,MAAM,IAAI;MAC5C,IAAI,CAACJ,IAAI,CAACI,MAAM,KAAK,IAAI,CAACL,SAAS,CAACQ,KAAK,CAAC,CAACS,QAAO;MAClD,IAAI,CAACjB,SAAS,CAACQ,KAAK,CAAC,CAACS,QAAO,GAAI;IACnC,CAAC;IAED;IACAC,UAASA,CAAGT,IAAI,EAAE;MAChB,OAAO,IAAI,CAACR,IAAI,CAACQ,IAAI;MACrBU,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,IAAI;IACvB;EACF,CAAC;EAEDoB,QAAQ,EAAE;IACR;IACAC,aAAYA,CAAA,EAAK;MACf,OAAOC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACvB,IAAI,CAAC,CAACwB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;QACpD,OAAOD,GAAE,GAAIC,IAAG;MAClB,CAAC,EAAE,CAAC;IACN;EACF,CAAC;EAED;EACAC,OAAMA,CAAA,EAAK;IACThC,iBAAiB,CAACiC,MAAM,EAAC,CACtBC,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAAC/B,SAAQ,GAAI+B,QAAQ,CAACjC,IAAG;MAC7BqB,OAAO,CAACC,GAAG,CAACW,QAAQ;IACtB,CAAC;EACL;AAEF"},"metadata":{},"sourceType":"module","externalDependencies":[]}