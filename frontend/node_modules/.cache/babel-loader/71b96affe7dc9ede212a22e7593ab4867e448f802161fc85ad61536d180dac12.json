{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from '@/components/SideBar.vue';\nimport ProductDataService from '@/services/ProductDataService';\nexport default {\n  components: {\n    Sidebar\n  },\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    };\n  },\n  methods: {\n    // toggle sidebar\n    toggleSideBar() {\n      this.showSideBar = !this.showSideBar;\n    },\n    // add product in inventory (dom)\n    addInventory(product) {\n      this.inventory.push(product);\n    },\n    // update product in inventory (dom)\n    updateInventory(index, product) {\n      this.inventory[index].name = product.name;\n      this.inventory[index].photo = product.photo;\n      this.inventory[index].price = product.price;\n      this.inventory[index].description = product.description;\n    },\n    // remove product from inventory (dom)\n    removeInventory(index) {\n      this.inventory.splice(index, 1);\n    },\n    // add item to cart\n    addToCart(product, index) {\n      if (!this.cart[product]) this.cart[product] = 0;\n      this.cart[product] += this.inventory[index].quantity;\n      this.inventory[index].quantity = 0;\n    },\n    // remove item from cart\n    removeItem(name) {\n      delete this.cart[name];\n    }\n  },\n  computed: {\n    // cart total quantity\n    totalQuantity() {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr;\n      }, 0);\n    }\n  },\n  // getAll data\n  mounted() {\n    ProductDataService.getAll().then(response => {\n      this.inventory = response.data;\n      console.log(response);\n    });\n  }\n};","map":{"version":3,"names":["Sidebar","ProductDataService","components","data","showSideBar","inventory","cart","methods","toggleSideBar","addInventory","product","push","updateInventory","index","name","photo","price","description","removeInventory","splice","addToCart","quantity","removeItem","computed","totalQuantity","Object","values","reduce","acc","curr","mounted","getAll","then","response","console","log"],"sources":["/Users/e2196008/Documents/582-41F_techniques_avancees_prog_web/cours/node/vue-server-client/project-vue/src/App.vue"],"sourcesContent":["<template>\n  <!-- Navigation-->\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container px-4 px-lg-5\">\n      <router-link class=\"navbar-brand\" aria-current=\"page\" :to=\"{ name: 'home' }\">My Store</router-link>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span class=\"navbar-toggler-icon\"></span></button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link active\" aria-current=\"page\" :to=\"{ name: 'home' }\">Products</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" :to=\"{ name: 'new-product' }\">New Product</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" :to=\"{ name: 'about' }\">About</router-link>\n          </li>\n        </ul>\n        <form class=\"d-flex\">\n          <button class=\"btn btn-outline-dark\" type=\"button\" @click=\"toggleSideBar\">\n            <i class=\"bi-cart-fill me-1\"></i>\n            Cart\n            <span class=\"badge bg-dark text-white ms-1 rounded-pill\">{{ totalQuantity }}</span>\n          </button>\n        </form>\n      </div>\n    </div>\n  </nav>\n  <!-- Header-->\n  <header class=\"bg-dark py-5\">\n    <div class=\"container px-4 px-lg-5 my-5\">\n      <div class=\"text-center text-white\">\n        <h1 class=\"display-4 fw-bolder\">Shop in style</h1>\n        <p class=\"lead fw-normal text-white-50 mb-0\">With this shop hompeage template</p>\n      </div>\n    </div>\n  </header>\n  <!-- Content -->\n  <Router-view\n    :inventory = \"inventory\"\n    :addToCart = \"addToCart\"\n    :addInv = \"addInventory\"\n    :updateInv = \"updateInventory\"\n    :removeInv = \"removeInventory\"\n  />\n  <!-- Sidebar -->\n  <Sidebar\n    v-if=\"showSideBar\"\n    :toggle = \"toggleSideBar\"\n    :cart = \"cart\"\n    :inventory = \"inventory\"\n    :removeItem = \"removeItem\"\n  />\n</template>\n\n<script>\nimport Sidebar from '@/components/SideBar.vue'\nimport ProductDataService from '@/services/ProductDataService'\n\nexport default {\n\n  components: {\n    Sidebar\n  },\n\n  data: () => {\n    return {\n      showSideBar: false,\n      inventory: [],\n      cart: {}\n    }\n  },\n\n  methods: {\n    // toggle sidebar\n    toggleSideBar () {\n      this.showSideBar = !this.showSideBar\n    },\n\n    // add product in inventory (dom)\n    addInventory (product) {\n      this.inventory.push(product)\n    },\n\n    // update product in inventory (dom)\n    updateInventory (index, product) {\n      this.inventory[index].name = product.name\n      this.inventory[index].photo = product.photo\n      this.inventory[index].price = product.price\n      this.inventory[index].description = product.description\n    },\n\n    // remove product from inventory (dom)\n    removeInventory (index) {\n      this.inventory.splice(index, 1)\n    },\n\n    // add item to cart\n    addToCart (product, index) {\n      if (!this.cart[product]) this.cart[product] = 0\n      this.cart[product] += this.inventory[index].quantity\n      this.inventory[index].quantity = 0\n    },\n\n    // remove item from cart\n    removeItem (name) {\n      delete this.cart[name]\n    }\n  },\n\n  computed: {\n    // cart total quantity\n    totalQuantity () {\n      return Object.values(this.cart).reduce((acc, curr) => {\n        return acc + curr\n      }, 0)\n    }\n  },\n\n  // getAll data\n  mounted () {\n    ProductDataService.getAll()\n      .then(response => {\n        this.inventory = response.data\n        console.log(response)\n      })\n  }\n\n}\n</script>\n"],"mappings":";AAwDA,OAAOA,OAAM,MAAO,0BAAyB;AAC7C,OAAOC,kBAAiB,MAAO,+BAA8B;AAE7D,eAAe;EAEbC,UAAU,EAAE;IACVF;EACF,CAAC;EAEDG,IAAI,EAAEA,CAAA,KAAM;IACV,OAAO;MACLC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,CAAC;IACT;EACF,CAAC;EAEDC,OAAO,EAAE;IACP;IACAC,aAAYA,CAAA,EAAK;MACf,IAAI,CAACJ,WAAU,GAAI,CAAC,IAAI,CAACA,WAAU;IACrC,CAAC;IAED;IACAK,YAAWA,CAAGC,OAAO,EAAE;MACrB,IAAI,CAACL,SAAS,CAACM,IAAI,CAACD,OAAO;IAC7B,CAAC;IAED;IACAE,eAAcA,CAAGC,KAAK,EAAEH,OAAO,EAAE;MAC/B,IAAI,CAACL,SAAS,CAACQ,KAAK,CAAC,CAACC,IAAG,GAAIJ,OAAO,CAACI,IAAG;MACxC,IAAI,CAACT,SAAS,CAACQ,KAAK,CAAC,CAACE,KAAI,GAAIL,OAAO,CAACK,KAAI;MAC1C,IAAI,CAACV,SAAS,CAACQ,KAAK,CAAC,CAACG,KAAI,GAAIN,OAAO,CAACM,KAAI;MAC1C,IAAI,CAACX,SAAS,CAACQ,KAAK,CAAC,CAACI,WAAU,GAAIP,OAAO,CAACO,WAAU;IACxD,CAAC;IAED;IACAC,eAAcA,CAAGL,KAAK,EAAE;MACtB,IAAI,CAACR,SAAS,CAACc,MAAM,CAACN,KAAK,EAAE,CAAC;IAChC,CAAC;IAED;IACAO,SAAQA,CAAGV,OAAO,EAAEG,KAAK,EAAE;MACzB,IAAI,CAAC,IAAI,CAACP,IAAI,CAACI,OAAO,CAAC,EAAE,IAAI,CAACJ,IAAI,CAACI,OAAO,IAAI;MAC9C,IAAI,CAACJ,IAAI,CAACI,OAAO,KAAK,IAAI,CAACL,SAAS,CAACQ,KAAK,CAAC,CAACQ,QAAO;MACnD,IAAI,CAAChB,SAAS,CAACQ,KAAK,CAAC,CAACQ,QAAO,GAAI;IACnC,CAAC;IAED;IACAC,UAASA,CAAGR,IAAI,EAAE;MAChB,OAAO,IAAI,CAACR,IAAI,CAACQ,IAAI;IACvB;EACF,CAAC;EAEDS,QAAQ,EAAE;IACR;IACAC,aAAYA,CAAA,EAAK;MACf,OAAOC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACpB,IAAI,CAAC,CAACqB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;QACpD,OAAOD,GAAE,GAAIC,IAAG;MAClB,CAAC,EAAE,CAAC;IACN;EACF,CAAC;EAED;EACAC,OAAMA,CAAA,EAAK;IACT7B,kBAAkB,CAAC8B,MAAM,EAAC,CACvBC,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAAC5B,SAAQ,GAAI4B,QAAQ,CAAC9B,IAAG;MAC7B+B,OAAO,CAACC,GAAG,CAACF,QAAQ;IACtB,CAAC;EACL;AAEF"},"metadata":{},"sourceType":"module","externalDependencies":[]}